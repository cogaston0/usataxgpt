<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Carlos Olivencia — Tax Division</title>
  <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
</head>

<body data-page="home">

  <section class="hero">
    <div class="intake-card" id="draggableCard">
      <h2>Carlos Olivencia — Tax Intake</h2>
      <div class="secure">● Secure Connection Active</div>
      <p>Welcome to Carlos Olivencia Tax Services.</p>
      <p>I will guide you step-by-step through your tax intake. This information is encrypted and secure.</p>
      <p>Are you ready to start your 2025 tax intake?</p>
      <div class="input-area">
        <input type="text" placeholder="Type your response...">
        <button>Send</button>
      </div>
    </div>
  </section>

  <script>
    const card = document.getElementById("draggableCard");
    const hero = card.parentElement;
    let isDragging = false, offsetX, offsetY;

    function startDrag(x, y) {
      isDragging = true;
      offsetX = x - card.offsetLeft;
      offsetY = y - card.offsetTop;
    }

    function moveDrag(x, y) {
      if (!isDragging) return;
      const heroRect = hero.getBoundingClientRect();
      let newLeft = Math.max(0, Math.min(x - offsetX, heroRect.width  - card.offsetWidth));
      let newTop  = Math.max(0, Math.min(y - offsetY, heroRect.height - card.offsetHeight));
      card.style.left = newLeft + "px";
      card.style.top  = newTop  + "px";
    }

    function endDrag() { isDragging = false; }

    // Mouse events
    card.addEventListener("mousedown",  e => { startDrag(e.clientX, e.clientY); e.preventDefault(); });
    document.addEventListener("mousemove", e => moveDrag(e.clientX, e.clientY));
    document.addEventListener("mouseup",   endDrag);

    // Touch events
    card.addEventListener("touchstart", e => {
      const t = e.touches[0];
      startDrag(t.clientX, t.clientY);
      e.preventDefault();
    }, { passive: false });

    document.addEventListener("touchmove", e => {
      const t = e.touches[0];
      moveDrag(t.clientX, t.clientY);
      e.preventDefault();
    }, { passive: false });

    document.addEventListener("touchend", endDrag);
  </script>

  <script src="template.js"></script>

</body>
</html>
